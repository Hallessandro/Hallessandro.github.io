pico-8 cartridge // http://www.pico-8.com
version 42
__lua__
player={
	x=64, 
	y=64, 
	hearts=3,
	speed=2
}
enemy={
	x=60, 
	y=20, 
	isalive=true
}

nextmove = 1
distance = 0

function _init()
	cls(3)
	bullets={}
	enemy_bullets={}
end

function _draw()
	spr(1,player.x,player.y)
	spr(4,enemy.x,enemy.y,2,2)
	
	for b in all(bullets) do
		b:draw()
	end
	
	for eb in all(enemy_bullets) do
		eb:draw()
	end
	
	if(count(bullets)>=14 and
		count(bullets)<=25) then
		spr(12,0,110,2,2)
		print("nintendo safada",15,100)
		print("nunca vai me vencer",15,110)
	end
	
	if(count(bullets)>25
		and (count(enemy_bullets)>=50 
			and count(enemy_bullets)<=400)) then
				spr(14,0,110,2,2)
				print("mamma mia!",15,100)
				print("sonic ta cagando moeda",15,110)
	end
	
	map()
end

function hitanedge(coord)
	if(coord==0) then
		nextmove = 1
	end
	if(coord==120) then
		nextmove = -1
	end
end

function enemymov(coord)
	move = 0
	result = hitanedge(enemy.x)
	move+=nextmove
	return move
end

function _update()
	cls()

	enemy.x += enemymov()
	if(btn(0) and player.x>0) then
		player.x-=1	
	end
	
	if(btn(1) and player.x<120) then
		player.x+=1
	end
	
	if(btn(2) and player.y>0) then
		player.y-=1
	end
	
	if(btn(3) and player.y<120) then
		player.y+=1
	end
	
	if(btnp(5)) then
		add_mew_bullet(player.x,player.y)
	end
	
	add_new_enemy_bullets(enemy.x,enemy.y)
	for b in all(bullets) do
		b:update()
	end
	
	for eb in all(enemy_bullets) do
		eb:update()
	end
end


-->8
function add_mew_bullet(_x,_y)
	add(bullets, {
		x=_x,
		y=_y,
		dx=rnd(2)-1,
		dy=rnd(2)-1,
		life=20,
		draw=function(self)
			spr(3,self.x,self.y-7)
		end,
		update=function(self)
			self.x+=0
			self.y+=-1
			
			self.life-=1
			if self.life<0 then
				del(bullets.self)
			end	
		end
	})
end

function add_new_enemy_bullets(
	_x,_y)
	add(enemy_bullets, {
		x=_x,
		y=_y,
		dx=rnd(2)-1,
		dy=rnd(2)-1,
		life=20,
		draw=function(self)
			spr(2,self.x+8,self.y+15)
		end,
		update=function(self)
			self.x+=self.dx
			self.y+=self.dy
			
			self.life-=1
			if self.life<0 then
				del(enemy_bullets.self)
			end	
		end
	})
end
__gfx__
00000000999999990000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000088888880000
00000000900000d90000000000000000000000000000000088800888000000000090000000000000000000000000000000000000000000000000088888888000
0070070090d00d09000099000000000000000000000000008888888800000000000000a000000000000000000000000000000000000000000000888888888880
000770009d00000900090090000900000c115555555511c088888888000000000000000000000000000d0000000000001cccc1c1c11100000088888888888888
00077000999999990009009000050000cc115dddddd511cc88888888000000000a000000000000000000000000000000ccc0fcccccccc10008888888ffffff00
00700700955999090000990000050000cc115ddd06d511cc8888888800000000000000000000000000000000000000000cc0ffcccccccc00888888ffff5fff00
00000000955990990000000000000000cc115dddd0d511cc08888880000000000000000000000070600000c00000000000ccccccccccccc088885fffff5fff00
00000000999999990000000000000000cc115dddddd511cc00888800000000000000000000000000000000000000000000ccccccc77cccc00f5555fffffffff0
00000000000000000000000000000000ccc1555555551ccc0000000000000000000000000000000000000000000000001ccccccc7777ccc00f5f55ffffffffff
00000000000000000000000000000000c0c1111111111c0c000000000000000000000000000000000000000000000000ccc1cccc7775cc700fffffff55ffffff
00000000000000000000000000000000c0ccccccccccc0cc0000000000000000000000000000000000000000000000000ccc1ccc7775cc700fffffff5555ffff
00000000000000000000000000000000cccccccccccccccc000000000000000000000000000000000000000000000000000cccccc775c7550000fffff5555500
000000000000000000000000000000000cccccccccccccc00000000000000000000000000000000000000000000000000000ccfff777ff000000fffffff55000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000cffffffff0000000fffffff0000
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000007ffffff00000000000000000000
__label__
66600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
60600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
66600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
60600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
66600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000a0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000006000000000000
0000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000007000000000000000006000007000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000c115555555511c000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00cc115dddddd511cc00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00cc115ddd06d511cc00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00cc115dddd0d511cc00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00cc115dddddd511cc00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00ccc1555555551ccc00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00c0c1111111111c0c00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00c0ccccccccccc0cc00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00cccccccccccccccc00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000cccccccccccccc000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000070000000000000000000000000000000700000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000009000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000a00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000a0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000090000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000090000000000000000000000000000000000000000000000000000000000000006000000000000
00000000000000000000000000000000000000000000000000050000000000000a00000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000050000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000006000007000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000099999999000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000900000d9000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000090d00d09000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000009d000009000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000099999999000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000095599909000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000095599099000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000099999999000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000

__map__
2626260000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
26262608000000370000000900370a0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000370037000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000003700000000000000370037000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000900000009000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0008000000000037370000000000370000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00373700000000000837000000000a0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
